<HTML>
	<head>
		<title>KTUclickED</title>
		<link rel="stylesheet" href="mystyle.css">
                <link rel="icon" href="foto/logoicon.png">
                <meta charset="UTF-8">


	</head>
	
	<body>
		<div class="left">
			<p id="upgradeNames">Patobulinimai</p>
			
			<table class="shop" onclick="buyUpgradeActive1()">
				<tr>
					<td id="image"><img src="foto/vape.png" /></td>
					<td id="nameAndCost">
						<p>Veipas</p>
						<p><span id="upgradeActiveCost1">10</span></p>
					</td>
					<td id="amount"><span id="upgradesActive1">0</span></td>
				</tr>
			</table>
			
			<table class="shop" onclick="buyUpgradeActive2()">
				<tr>
					<td id="image"><img src="foto/energy.png" /></td>
					<td id="nameAndCost">
						<p>RedBull</p>
						<p><span id="upgradeActiveCost2">100</span> Kompetencijų</p>
					</td>
					<td id="amount"><span id="upgradesActive2">0</span></td>
				</tr>
			</table>
			
			<table class="shop" onclick="buyUpgradeActive3()">
				<tr>
					<td id="image"><img src="foto/kebab.png" /></td>
					<td id="nameAndCost">
						<p>Kebabas</p>
						<p><span id="upgradeActiveCost3">1000</span> Kompetencijų</p>
					</td>
					<td id="amount"><span id="upgradesActive3">0</span></td>
				</tr>
			</table>
			
			<p id="upgradeNames">Taškų generatoriai</p>
			
			<table class="shop" onclick="buyUpgradePassive1()">
				<tr>
					<td id="image"><img src="foto/mentorius.png" /></td>
					<td id="nameAndCost">
						<p>Mentorius</p>
						<p><span id="upgradePassiveCost1">20</span> Kompetencijų</p>
					</td>
					<td id="amount"><span id="upgradesPassive1">0</span></td>
				</tr>
			</table>
			
			<table class="shop" onclick="buyUpgradePassive2()">
				<tr>
					<td id="image"><img src="foto/tutorius.png" /></td>
					<td id="nameAndCost">
						<p>Tutorius</p>
						<p><span id="upgradePassiveCost2">200</span> Kompetencijų</p>
					</td>
					<td id="amount"><span id="upgradesPassive2">0</span></td>
				</tr>
			</table>
			
			<table class="shop" onclick="buyUpgradePassive3()">
				<tr>
					<td id="image"><img src="foto/infosa.png" /></td>
					<td id="nameAndCost">
						<p>Atstovybė</p>
						<p><span id="upgradePassiveCost3">2000</span> Kompetencijų</p>
					</td>
					<td id="amount"><span id="upgradesPassive3">0</span></td>
				</tr>
			</table>
		</div>
		
		<div class="right">
				<img src="foto/logo.png" /><br>
                                <p id="meniu">Meniu</p>
                                <ul>
                                <li><a href="index.html">Atsijungti</a></li>
								<li><button onclick="resetGame();">Reset Game</button></li>
								<li><button onclick="saveGame();">Save Game</button></li>
                                </ul>
		</div>	
			<div class="middle">
				<div class="scoreContainer">
					<span id="score">0</span><br>
					<span id="auto">0</span>/sec.
				</div>
				<img src="foto/ktumygtukas.png" onclick="addToScore(clickingPower)" />
			</div>		
		<script>
			var score = 0;
			var clickingPower = 1;
			
			var auto = 0;
			
			var upgradeActiveCost1 = 10;
			var upgradesActive1 = 0;
			var upgradeActiveCost2 = 100;
			var upgradesActive2 = 0;
			var upgradeActiveCost3 = 1000;
			var upgradesActive3 = 0;
			var upgradePassiveCost1 = 20;
			var upgradesPassive1 = 0;
			var upgradePassiveCost2 = 200;
			var upgradesPassive2 = 0;
			var upgradePassiveCost3 = 2000;
			var upgradesPassive3 = 0;
			
			function buyUpgradeActive1(){
				if (score >= upgradeActiveCost1){
					score = score - upgradeActiveCost1;
					upgradesActive1 = upgradesActive1 + 1;
					upgradeActiveCost1 = Math.round(upgradeActiveCost1 * 1.2);
					clickingPower = clickingPower + 1;
					
					document.getElementById("score").innerHTML = score;
					document.getElementById("upgradeActiveCost1").innerHTML = upgradeActiveCost1;
					document.getElementById("upgradesActive1").innerHTML = upgradesActive1;
				}
			}
			
			function buyUpgradeActive2(){
				if (score >= upgradeActiveCost2){
					score = score - upgradeActiveCost2;
					upgradesActive2 = upgradesActive2 + 1;
					upgradeActiveCost2 = Math.round(upgradeActiveCost2 * 1.3);
					clickingPower = clickingPower + 10;
					
					document.getElementById("score").innerHTML = score;
					document.getElementById("upgradeActiveCost2").innerHTML = upgradeActiveCost2;
					document.getElementById("upgradesActive2").innerHTML = upgradesActive2;
				}
			}
			
			function buyUpgradeActive3(){
				if (score >= upgradeActiveCost3){
					score = score - upgradeActiveCost3;
					upgradesActive3 = upgradesActive3 + 1;
					upgradeActiveCost3 = Math.round(upgradeActiveCost3 * 1.35);
					clickingPower = clickingPower + 10;
					
					document.getElementById("score").innerHTML = score;
					document.getElementById("upgradeActiveCost3").innerHTML = upgradeActiveCost3;
					document.getElementById("upgradesActive3").innerHTML = upgradesActive3;
				}
			}
			
			function buyUpgradePassive1(){
				if (score >= upgradePassiveCost1){
					score = score - upgradePassiveCost1;
					upgradesPassive1 = upgradesPassive1 + 1;
					auto = auto + 1;
					upgradePassiveCost1 = Math.round(upgradePassiveCost1 * 1.2);
					
					document.getElementById("score").innerHTML = score;
					document.getElementById("upgradePassiveCost1").innerHTML = upgradePassiveCost1;
					document.getElementById("upgradesPassive1").innerHTML = upgradesPassive1;
					document.getElementById("auto").innerHTML = auto;
				}
			}
			
			function buyUpgradePassive2(){
				if (score >= upgradePassiveCost2){
					score = score - upgradePassiveCost2;
					upgradesPassive2 = upgradesPassive2 + 1;
					auto = auto + 10;
					upgradePassiveCost2 = Math.round(upgradePassiveCost2 * 1.3);
					
					document.getElementById("score").innerHTML = score;
					document.getElementById("upgradePassiveCost2").innerHTML = upgradePassiveCost2;
					document.getElementById("upgradesPassive2").innerHTML = upgradesPassive2;
					document.getElementById("auto").innerHTML = auto;
				}
			}
			
			function buyUpgradePassive3(){
				if (score >= upgradePassiveCost3){
					score = score - upgradePassiveCost3;
					upgradesPassive3= upgradesPassive3 + 1;
					auto = auto + 100;
					upgradePassiveCost3 = Math.round(upgradePassiveCost3 * 1.35);
					
					document.getElementById("score").innerHTML = score;
					document.getElementById("upgradePassiveCost3").innerHTML = upgradePassiveCost3;
					document.getElementById("upgradesPassive3").innerHTML = upgradesPassive3;
					document.getElementById("auto").innerHTML = auto;
				}
			}
			
			function addToScore(amount){
				score = score + amount;
				document.getElementById("score").innerHTML = score;
			}

			setInterval(function() {
				score = score + auto;
				
				document.getElementById("score").innerHTML = score;
			}, 1000);
			
			function loadGame() {
				var savedGame = JSON.parse(localStorage.getItem("gameSave"));
				if (typeof savedGame.score !== "undefined") score = savedGame.score;
				if (typeof savedGame.auto !== "undefined") auto = savedGame.auto;
				if (typeof savedGame.clickingPower !== "undefined") clickingPower = savedGame.clickingPower;
				if (typeof savedGame.upgradeActiveCost1 !== "undefined") upgradeActiveCost1 = savedGame.upgradeActiveCost1;
				if (typeof savedGame.upgradesActive1 !== "undefined") upgradesActive1 = savedGame.upgradesActive1;
				if (typeof savedGame.upgradeActiveCost2 !== "undefined") upgradeActiveCost2 = savedGame.upgradeActiveCost2;
				if (typeof savedGame.upgradesActive2 !== "undefined") upgradesActive2 = savedGame.upgradesActive2;
				if (typeof savedGame.upgradeActiveCost3 !== "undefined") upgradeActiveCost3 = savedGame.upgradeActiveCost3;
				if (typeof savedGame.upgradesActive3 !== "undefined") upgradesActive3 = savedGame.upgradesActive3;
				if (typeof savedGame.upgradePassiveCost1 !== "undefined") upgradePassiveCost1 = savedGame.upgradePassiveCost1;
				if (typeof savedGame.upgradesPassive1 !== "undefined") upgradesPassive1 = savedGame.upgradesPassive1;
				if (typeof savedGame.upgradePassiveCost2 !== "undefined") upgradePassiveCost2 = savedGame.upgradePassiveCost2;
				if (typeof savedGame.upgradesPassive2 !== "undefined") upgradesPassive2 = savedGame.upgradesPassive2;
				if (typeof savedGame.upgradePassiveCost3 !== "undefined") upgradePassiveCost3 = savedGame.upgradePassiveCost3;
				if (typeof savedGame.upgradesPassive3 !== "undefined") upgradesPassive3 = savedGame.upgradesPassive3;
			}
			
			function saveGame() {
				var gameSave = {
					score: score,
					auto: auto,
					clickingPower: clickingPower,
					upgradeActiveCost1: upgradeActiveCost1,
					upgradesActive1: upgradesActive1,
					upgradeActiveCost2: upgradeActiveCost2,
					upgradesActive2: upgradesActive2,
					upgradeActiveCost3: upgradeActiveCost3,
					upgradesActive3: upgradesActive3,
					upgradePassiveCost1: upgradePassiveCost1,
					upgradesPassive1: upgradesPassive1,
					upgradePassiveCost2: upgradePassiveCost2,
					upgradesPassive2: upgradesPassive2,
					upgradePassiveCost3: upgradePassiveCost3,
					upgradesPassive3: upgradesPassive3
				};
				localStorage.setItem("gameSave", JSON.stringify(gameSave));
			}
			
			function resetGame() {
				if (confirm("Ar tikrai norite restartuoi žaidimą?")){
					var gameSave = {};
					localStorage.setItem("gameSave", JSON.stringify(gameSave));
					location.reload();
				}
			}
			
			window.onload = function() {
				loadGame();
				document.getElementById("score").innerHTML = score;
				document.getElementById("upgradeActiveCost1").innerHTML = upgradeActiveCost1;
				document.getElementById("upgradesActive1").innerHTML = upgradesActive1;
				document.getElementById("upgradeActiveCost2").innerHTML = upgradeActiveCost2;
				document.getElementById("upgradesActive2").innerHTML = upgradesActive2;
				document.getElementById("upgradeActiveCost3").innerHTML = upgradeActiveCost3;
				document.getElementById("upgradesActive3").innerHTML = upgradesActive3;
				document.getElementById("upgradePassiveCost1").innerHTML = upgradePassiveCost1;
				document.getElementById("upgradesPassive1").innerHTML = upgradesPassive1;
				document.getElementById("upgradePassiveCost2").innerHTML = upgradePassiveCost2;
				document.getElementById("upgradesPassive2").innerHTML = upgradesPassive2;
				document.getElementById("upgradePassiveCost3").innerHTML = upgradePassiveCost3;
				document.getElementById("upgradesPassive3").innerHTML = upgradesPassive3;
				document.getElementById("auto").innerHTML = auto;
			};
			
			setInterval(function() {
				saveGame();
			}, 3000);
			
			document.addEventListener("keydown", function(event) {
				if (event.ctrlKey && event.which == 83) {
					event.preventDefault();	
				}
			}, false);
				
		</script>


	</body>
</HTML>
